{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{224:function(a,t,s){\"use strict\";s.r(t);var n=s(0),e=Object(n.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"执行机制\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#执行机制\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 执行机制\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_1-为何try里面放return，finally还会执行，理解其内部机制\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-为何try里面放return，finally还会执行，理解其内部机制\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 1.为何\"),s(\"code\",[a._v(\"try\")]),a._v(\"里面放\"),s(\"code\",[a._v(\"return\")]),a._v(\"，\"),s(\"code\",[a._v(\"finally\")]),a._v(\"还会执行，理解其内部机制\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"如果try语句里有return，那么代码的行为如下：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#如果try语句里有return，那么代码的行为如下：\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 如果try语句里有return，那么代码的行为如下：\")]),a._v(\" \"),s(\"h5\",{attrs:{id:\"_1-如果有返回值，就把返回值保存到局部变量中\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-如果有返回值，就把返回值保存到局部变量中\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 1.如果有返回值，就把返回值保存到局部变量中\")]),a._v(\" \"),s(\"h5\",{attrs:{id:\"_2-跳到finally语句里执行\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-跳到finally语句里执行\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 2.跳到finally语句里执行\")]),a._v(\" \"),s(\"h5\",{attrs:{id:\"_3-执行完finally语句后，返回之前保存在局部变量表里的值\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-执行完finally语句后，返回之前保存在局部变量表里的值\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 3.执行完finally语句后，返回之前保存在局部变量表里的值\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_2-javascript如何实现异步编程，可以详细描述eventloop机制\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-javascript如何实现异步编程，可以详细描述eventloop机制\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 2.\"),s(\"code\",[a._v(\"JavaScript\")]),a._v(\"如何实现异步编程，可以详细描述\"),s(\"code\",[a._v(\"EventLoop\")]),a._v(\"机制\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"事件循环（event-loop）\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#事件循环（event-loop）\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 事件循环（Event Loop）\")]),a._v(\" \"),s(\"p\",[a._v(\"JavaScript引擎负责解析，执行JavaScript代码，但它并不能单独运行，通常都得有一个宿主环境，一般如浏览器或Node服务器，前文说到的单线程是指在这些宿主环境创建单一线程，提供一种机制，调用JavaScript引擎完成多个JavaScript代码块的调度，执行（是的，JavaScript代码都是按块执行的），这种机制就称为事件循环（Event Loop）。\")]),a._v(\" \"),s(\"p\",[s(\"strong\",[a._v(\"注\")]),a._v(\"：这里的事件与DOM事件不要混淆，可以说这里的事件包括DOM事件，所有异步操作都是一个事件，诸如ajax请求就可以看作一个request请求事件。\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"javascript执行环境中存在的两个结构需要了解：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#javascript执行环境中存在的两个结构需要了解：\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" JavaScript执行环境中存在的两个结构需要了解：\")]),a._v(\" \"),s(\"p\",[a._v(\"消息队列(message queue)，也叫任务队列（task queue）：存储待处理消息及对应的回调函数或事件处理程序；\\n执行栈(execution context stack)，也可以叫执行上下文栈：JavaScript执行栈，顾名思义，是由执行上下文组成，当函数调用时，创建并插入一个执行上下文，通常称为执行栈帧（frame），存储着函数参数和局部变量，当该函数执行结束时，弹出该执行栈帧；\\n\"),s(\"strong\",[a._v(\"注\")]),a._v(\"：关于全局代码，由于所有的代码都是在全局上下文执行，所以执行栈顶总是全局上下文就很容易理解，直到所有代码执行完毕，全局上下文退出执行栈，栈清空了；也即是全局上下文是第一个入栈，最后一个出栈。\")]),a._v(\" \"),s(\"p\",[a._v(\"任务\\n分析事件循环流程前，先阐述两个概念，有助于理解事件循环：同步任务和异步任务。\")]),a._v(\" \"),s(\"p\",[a._v(\"任务很好理解，JavaScript代码执行就是在完成任务，所谓任务就是一个函数或一个代码块，通常以功能或目的划分，比如完成一次加法计算，完成一次ajax请求；很自然的就分为同步任务和异步任务。同步任务是连续的，阻塞的；而异步任务则是不连续，非阻塞的，包含异步事件及其回调，当我们谈及执行异步任务时，通常指执行其回调函数。\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"事件循环流程\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#事件循环流程\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 事件循环流程\")]),a._v(\" \"),s(\"p\",[a._v(\"关于事件循环流程分解如下：\")]),a._v(\" \"),s(\"p\",[a._v(\"宿主环境为JavaScript创建线程时，会创建堆(heap)和栈(stack)，堆内存储JavaScript对象，栈内存储执行上下文；\\n栈内执行上下文的同步任务按序执行，执行完即退栈，而当异步任务执行时，该异步任务进入等待状态（不入栈），同时通知线程：当触发该事件时（或该异步操作响应返回时），需向消息队列插入一个事件消息；\\n当事件触发或响应返回时，线程向消息队列插入该事件消息（包含事件及回调）；\\n当栈内同步任务执行完毕后，线程从消息队列取出一个事件消息，其对应异步任务（函数）入栈，执行回调函数，如果未绑定回调，这个消息会被丢弃，执行完任务后退栈；\\n当线程空闲（即执行栈清空）时继续拉取消息队列下一轮消息（next tick，事件循环流转一次称为一次tick）。\\n使用代码可以描述如下：\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-js line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"var\")]),a._v(\" eventLoop \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"var\")]),a._v(\" event\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"var\")]),a._v(\" i \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" eventLoop\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"length \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"-\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"// 后进先出\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"while\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"eventLoop\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"i\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n    event \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" eventLoop\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"i\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"--\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\" \\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"if\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"event\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"// 事件回调存在\")]),a._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"event\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"// 否则事件消息被丢弃\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),s(\"br\")])]),s(\"p\",[a._v(\"这里注意的一点是等待下一个事件消息的过程是同步的。\")]),a._v(\" \"),s(\"p\",[a._v(\"并发模型与事件循环\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-js line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"var\")]),a._v(\" ele \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" document\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"querySelector\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'body'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"function\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"clickCb\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[a._v(\"event\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n    console\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"log\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'clicked'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"function\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"bindEvent\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[a._v(\"callback\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n    ele\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"addEventListener\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"'click'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" callback\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"   \\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"bindEvent\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"clickCb\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),s(\"br\")])]),s(\"p\",[a._v(\"针对如上代码我们可以构建如下并发模型：\")]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"http://blog.codingplayboy.com/wp-content/uploads/2017/04/concurrency-model.png\",alt:\"JavaScriptå¹¶åæ¨¡å\"}})]),a._v(\" \"),s(\"p\",[a._v(\"如上图，当执行栈同步代码块依次执行完直到遇见异步任务时，异步任务进入等待状态，通知线程，异步事件触发时，往消息队列插入一条事件消息；而当执行栈后续同步代码执行完后，读取消息队列，得到一条消息，然后将该消息对应的异步任务入栈，执行回调函数；一次事件循环就完成了，也即处理了一个异步任务。\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_3-宏任务和微任务分别有哪些\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-宏任务和微任务分别有哪些\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 3.宏任务和微任务分别有哪些\")]),a._v(\" \"),s(\"pre\",[s(\"code\",[a._v(\"宏任务包括：script(整体代码), setTimeout, setInterval, setImmediate, I/O, UI rendering。\\n\\n微任务包括： Promises, Object.observe, MutationObserver\\n\")])]),a._v(\" \"),s(\"h4\",{attrs:{id:\"_1-宏任务macrotask：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-宏任务macrotask：\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 1.宏任务macrotask：\")]),a._v(\" \"),s(\"p\",[a._v(\"（事件队列中的每一个事件都是一个macrotask）\")]),a._v(\" \"),s(\"p\",[a._v(\"优先级：主代码块 > setImmediate > MessageChannel > setTimeout / setInterval\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"_2-微任务包括：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-微任务包括：\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 2.微任务包括：\")]),a._v(\" \"),s(\"p\",[a._v(\"优先级：process.nextTick > Promise > MutationObserver\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"_3-执行顺序\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-执行顺序\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 3.执行顺序\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_4-可以快速分析一个复杂的异步嵌套逻辑，并掌握分析方法\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-可以快速分析一个复杂的异步嵌套逻辑，并掌握分析方法\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 4.可以快速分析一个复杂的异步嵌套逻辑，并掌握分析方法\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_5-使用promise实现串行\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-使用promise实现串行\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 5.使用\"),s(\"code\",[a._v(\"Promise\")]),a._v(\"实现串行\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"场景\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#场景\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 场景\")]),a._v(\" \"),s(\"p\",[a._v(\"有a、b、c三个异步任务，要求必须先执行a，再执行b，最后执行c\\n且下一次任务必须要拿到上一次任务执行的结果，才能做操作\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"思路\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#思路\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 思路\")]),a._v(\" \"),s(\"p\",[a._v(\"我们需要实现一个队列，将这些异步函数添加进队列并且管理它们的执行，队列具有First In First Out的特性，也就是先添加进去的会被先执行，接着才会执行下一个(注意跟栈作区别)\\n大家也可以类比一下jQuery的animate方法，添加多个动画也会按顺序执行\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"解决\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#解决\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 解决\")]),a._v(\" \"),s(\"p\",[a._v(\"模拟3个异步函数\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"// 异步函数a\\nvar a = function () {\\n  return new Promise(function (resolve, reject) {\\n    setTimeout(function () {\\n      resolve('a')\\n    }, 1000)\\n  })\\n}\\n\\n// 异步函数b\\nvar b = function (data) {\\n  return new Promise(function (resolve, reject) {\\n    resolve(data + 'b')\\n  })\\n}\\n\\n// 异步函数c\\nvar c = function (data) {\\n  return new Promise(function (resolve, reject) {\\n    setTimeout(function () {\\n      resolve(data + 'c')\\n    }, 500)\\n  })\\n}\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"15\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"16\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"17\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"18\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"19\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"20\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"21\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"22\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"23\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"24\")]),s(\"br\")])]),s(\"h4\",{attrs:{id:\"解决方法一-使用then链式操作\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#解决方法一-使用then链式操作\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 解决方法一(使用then链式操作)\")]),a._v(\" \"),s(\"p\",[a._v(\"解决方法一(使用then链式操作)\")]),a._v(\" \"),s(\"p\",[a._v(\"特点：可以满足需求，但是书写比较繁琐\\n代码\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"//链式调用\\na()\\n  .then(function (data) {\\n    return b(data)\\n  })\\n  .then(function (data) {\\n    return c(data)\\n  })\\n  .then(function (data) {\\n    console.log(data)// abc\\n  })\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),s(\"br\")])]),s(\"h4\",{attrs:{id:\"方法二-构建队列\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#方法二-构建队列\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 方法二(构建队列)\")]),a._v(\" \"),s(\"p\",[a._v(\"方法二(构建队列)\")]),a._v(\" \"),s(\"p\",[a._v(\"特点：封装方法，可移植到别处使用\\n代码\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"// 构建队列\\nfunction queue(arr) {\\n  var sequence = Promise.resolve()\\n  arr.forEach(function (item) {\\n    sequence = sequence.then(item)\\n  })\\n  return sequence\\n}\\n\\n// 执行队列\\nqueue([a, b, c])\\n  .then(data => {\\n    console.log(data)// abc\\n  })\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"11\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"12\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"13\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"14\")]),s(\"br\")])]),s(\"h4\",{attrs:{id:\"方法三-使用async、await构建队列\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#方法三-使用async、await构建队列\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 方法三(使用async、await构建队列)\")]),a._v(\" \"),s(\"p\",[a._v(\"方法三(使用async、await构建队列)\")]),a._v(\" \"),s(\"p\",[a._v(\"同方法二，只是显得更高大上点\\n代码\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"async function queue(arr) {\\n  let res = null\\n  for (let promise of arr) {\\n    res = await promise(res)\\n  }\\n  return await res\\n}\\nqueue([a, b, c])\\n  .then(data => {\\n    console.log(data)// abc })\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"10\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"_6-node与浏览器eventloop的差异\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-node与浏览器eventloop的差异\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 6.\"),s(\"code\",[a._v(\"Node\")]),a._v(\"与浏览器\"),s(\"code\",[a._v(\"EventLoop\")]),a._v(\"的差异\")]),a._v(\" \"),s(\"p\",[s(\"strong\",[a._v(\"过程\")]),a._v(\":\"),s(\"a\",{attrs:{href:\"https://blog.csdn.net/Fundebug/article/details/86487117\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"浏览器与Node的事件循环(Event Loop)有何区别\"),s(\"OutboundLink\")],1)]),a._v(\" \"),s(\"p\",[a._v(\"浏览器和 Node 环境下，microtask 任务队列的执行时机不同\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[a._v(\"Node 端，microtask 在事件循环的各个阶段之间执行\")]),a._v(\" \"),s(\"li\",[a._v(\"浏览器端，microtask 在事件循环的 macrotask 执行完之后执行\")])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_7-如何在保证页面运行流畅的情况下处理海量数据\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-如何在保证页面运行流畅的情况下处理海量数据\",\"aria-hidden\":\"true\"}},[a._v(\"#\")]),a._v(\" 7.如何在保证页面运行流畅的情况下处理海量数据\")])])},[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}